@page "/configurationcreation"

<h1>New Configuration @(IsModified?"*":"")</h1>
<EditForm OnValidSubmit="Create" EditContext="@EditContext"  >
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group row mb-1">
        <label class="col-sm-3 col-form-label" for="Name">Configuration name</label>
        <div class="col-sm-9">
            <InputText class="form-control"  @bind-Value="@Configuration.Name" />
            <ValidationMessage For="@(()=> Configuration.Name)" />
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-sm-3 col-form-label" for="Optic">Optic</label>
        <div class="col-sm-9">
            <CustomSelect Items="@this.Optics"
                          @bind-Selected="@Configuration.Optic"
                          DisplaySelector="o=>o.Name.ToUpper()"
                          ValueSelector="o=>o.Id"
                          >
                <option>Please select one</option>
            </CustomSelect>
            <ValidationMessage For="@(()=> Configuration.Optic)" />
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-sm-3 col-form-label" for="Optic">Lamp Color</label>
        <div class="col-sm-9">
            <InputSelect class="form-control"  @bind-Value="@Configuration.LampColor"  >
                @foreach (var lampColor in this.LampColors)
                {
                    <option value="@lampColor">@lampColor</option>
                }
            </InputSelect>
            <ValidationMessage For="@(()=> Configuration.LampColor)" />
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-sm-3 col-form-label" for="LampFlux">Lamp Flux</label>
        <div class="col-sm-9">
            <InputNumber class="form-control"  @bind-Value="@Configuration.LampFlux" />
            <ValidationMessage For="@(()=> Configuration.LampFlux)" />
        </div>
    </div>
    <div class="form-group mb-0">
        <button type="submit" id="buttonCreate" class="btn btn-primary">Create</button>
    </div>
</EditForm>
